import{I as C,H as v,m,_ as l,b as i,o as s,c,d as e,e as a,w as _,t as p,i as I,z as P,F as k,h as q,g as b}from"./index-8d4a8feb.js";import{H as x}from"./QuantityBox-6a451456.js";const B={name:"HeraProductItem",components:{Icon:C,HeraButton:v,HeraQuantityBox:x},props:{product:{type:Object,required:!0}},data:()=>({quantity:null}),computed:{...m({isProductInCart:"cart/isProductInCart"})},methods:{addToCart(){this.product.quantity=this.quantity,this.$store.dispatch("cart/addToCart",this.product)},updateQuantity(o){this.quantity=o,this.isProductInCart(this.product.id)&&this.addToCart()}},mounted(){const o=this.isProductInCart(this.product.id);this.quantity=o?o.quantity:1}},w={class:"product-item"},$={class:"product-item__wrapper"},H={class:"product-item__image product-item-ibg-cover"},L=["src","alt"],V={class:"product-item__info product-item-info"},T={class:"product-item-info__name line-clamp-2"},N={key:0,class:"product-item-info__numbers"},Q={class:"product-item-info__price"};function z(o,u,t,h,y,r){const d=i("router-link"),n=i("hera-quantity-box"),f=i("Icon"),g=i("hera-button");return s(),c("div",w,[e("div",$,[a(d,{to:{name:"product",params:{category:t.product.category.slug,id:t.product.id}},class:"product-item__link"},{default:_(()=>[e("div",H,[e("img",{src:t.product.image,alt:t.product.name},null,8,L)])]),_:1},8,["to"]),e("div",V,[a(d,{to:{name:"product",params:{category:t.product.category.slug,id:t.product.id}},class:"product-item-info__link"},{default:_(()=>[e("h3",T,p(t.product.name),1)]),_:1},8,["to"]),o.quantity?(s(),c("div",N,[e("h5",Q,"$"+p(t.product.price),1),a(n,{class:"product-item-info__quantity",qyt:o.quantity,onUpdate:r.updateQuantity},null,8,["qyt","onUpdate"])])):I("",!0)]),a(g,{onClick:u[0]||(u[0]=O=>this.isProductInCart(this.product.id)?null:r.addToCart()),isLink:!!this.isProductInCart(this.product.id),link:{name:"cart"},class:P(["product-item__button",this.isProductInCart(this.product.id)?"primary":"_outline"]),text:this.isProductInCart(this.product.id)?"In the cart":"Add to cart"},{iconAfter:_(()=>[a(f,{class:"ml-1 text-base",icon:"mdi:cart"})]),_:1},8,["isLink","class","text"])])])}const A=l(B,[["render",z],["__scopeId","data-v-f98252b3"]]);const E={name:"ProductsView",components:{HeraProductItem:A},computed:{...m({products:"products/products",getProductsByCategory:"products/getProductsByCategory"}),productList(){return this.$route.params.category!="all"?this.getProductsByCategory(this.$route.params.category):this.products}}},F={class:"products"},U={class:"products__wrapper"},j={key:0,class:"products__list"},D={key:1};function G(o,u,t,h,y,r){const d=i("hera-product-item");return s(),c("div",F,[e("div",U,[r.productList.length?(s(),c("div",j,[(s(!0),c(k,null,q(r.productList,n=>(s(),b(d,{key:n.id,product:n},null,8,["product"]))),128))])):(s(),c("div",D,"Empty"))])])}const K=l(E,[["render",G],["__scopeId","data-v-897c5f57"]]);export{K as default};
