import{D as u,E as g,G as f,H as w,i as v,_ as d,b as o,o as l,g as C,w as b,d as s,e as t,t as E,h as F,c as S}from"./index-40a1981e.js";const x={name:"HeraChangeEmailForm",components:{Form:u,Field:g,ErrorMessage:f,HeraButton:w},data(){return{validationSchema:{email:"required|email",code:"required"},timerCount:60,counting:!1}},methods:{...v({changeEmail:"auth/changeEmail",confirmEmailChange:"auth/confirmEmailChange"}),onChangeEmail(){this.changeEmail().then(()=>this.startCountdown())},onSubmitForm(i){this.confirmEmailChange(i)},countDownTimer(){this.timerCount>0&&this.counting?setTimeout(()=>{this.timerCount-=1,this.countDownTimer()},1e3):this.onCountdownEnd()},startCountdown(){this.counting=!0,this.countDownTimer()},onCountdownEnd(){this.counting=!1,this.timerCount=60}}},y=s("div",{class:"settings-form__header -mt-7 rounded-t-2xl"},[s("div",{class:"settings-form__title"},"Change your email")],-1),H={class:"settings-form__row"},N=s("div",{class:"settings-form__caption"},"New email*",-1),q={class:"settings-form__group"},B={class:"settings-form__row"},D=s("div",{class:"settings-form__caption"},"Code*",-1),M={class:"settings-form__group"},P={class:"settings-form__group--code"},V=["disabled"],k={class:"settings-form__row"},A=s("div",{class:"settings-form__caption"},null,-1);function T(i,c,p,h,a,r){const e=o("Field"),n=o("ErrorMessage"),_=o("hera-button"),m=o("Form");return l(),C(m,{onSubmit:r.onSubmitForm,"validation-schema":a.validationSchema,class:"settings-form"},{default:b(()=>[y,s("div",H,[N,s("div",q,[t(e,{type:"email",name:"email",class:"settings-form__input input",placeholder:"New email"}),t(n,{name:"email",class:"error-message"})])]),s("div",B,[D,s("div",M,[s("div",P,[t(e,{type:"email",name:"code",class:"settings-form__input input !bg-transparent",placeholder:"Code"}),s("button",{type:"button",disabled:a.counting,onClick:c[0]||(c[0]=(...$)=>r.onChangeEmail&&r.onChangeEmail(...$))},E(a.counting?`Send (${a.timerCount})`:"Send code"),9,V)]),t(n,{name:"code",class:"error-message"})])]),s("div",k,[A,t(_,{class:"settings-form__button primary",type:"submit",text:"Update email"})])]),_:1},8,["onSubmit","validation-schema"])}const U=d(x,[["render",T]]),G={name:"HeraChangePasswordForm",components:{Form:u,Field:g,ErrorMessage:f,HeraButton:w},data(){return{validationSchema:{old_password:"required|min:8|max:128",password:"required|min:8|max:128|not_same:@old_password",confirm_password:"required|confirmed:@password"}}},computed:{...F({currentUser:"auth/currentUser"})},methods:{...v({changePassword:"auth/changePassword"}),onSubmitForm(i){this.changePassword(i)}}},O=s("div",{class:"settings-form__header"},[s("div",{class:"settings-form__title"},"Change your password")],-1),j={class:"settings-form__row"},z=s("div",{class:"settings-form__caption"},"Old password*",-1),I={class:"settings-form__group"},J={class:"settings-form__row"},K=s("div",{class:"settings-form__caption"},"New password*",-1),L={class:"settings-form__group"},Q={class:"settings-form__row"},R=s("div",{class:"settings-form__caption"},"Confirmation password",-1),W={class:"settings-form__group"},X={class:"settings-form__row"},Y=s("div",{class:"settings-form__caption"},null,-1);function Z(i,c,p,h,a,r){const e=o("Field"),n=o("ErrorMessage"),_=o("hera-button"),m=o("Form");return l(),C(m,{onSubmit:r.onSubmitForm,"validation-schema":a.validationSchema,class:"settings-form"},{default:b(()=>[O,s("div",j,[z,s("div",I,[t(e,{type:"text",name:"old_password",class:"settings-form__input input",placeholder:"Old password"}),t(n,{name:"old_password",class:"error-message"})])]),s("div",J,[K,s("div",L,[t(e,{type:"text",name:"password",class:"settings-form__input input",placeholder:"New password"}),t(n,{name:"password",class:"error-message"})])]),s("div",Q,[R,s("div",W,[t(e,{type:"text",name:"confirm_password",class:"settings-form__input input",placeholder:"Confirmation password"}),t(n,{name:"confirm_password",class:"error-message"})])]),s("div",X,[Y,t(_,{class:"settings-form__button primary",type:"submit",text:"Update password"})])]),_:1},8,["onSubmit","validation-schema"])}const ss=d(G,[["render",Z]]);const ts={name:"AccountSettingsView",components:{HeraChangeEmailForm:U,HeraChangePasswordForm:ss}},os={class:"settings"},es={class:"settings__wrapper"};function ns(i,c,p,h,a,r){const e=o("hera-change-email-form"),n=o("hera-change-password-form");return l(),S("div",os,[s("div",es,[t(e,{class:"settings__form"}),t(n,{class:"settings__form"})])])}const is=d(ts,[["render",ns]]);export{is as default};
