import{D as B,E,G as P,H as L,h as N,m as z,i as D,_ as F,b as _,K as H,o as u,c as d,e as t,w as r,d as e,L as M,J as i,F as U,k as G,t as A,a as n,j as O,p as T,f as Y}from"./index-3db6c8ff.js";const j={name:"HeraCheckoutForm",components:{Form:B,Field:E,ErrorMessage:P,HeraButton:L},data(){return{validationSchema:{first_name:"required",last_name:"required",address:"required",city:"required",state:"required",zip_code:"required",phone_number:"required",terms:s=>{if(s)return!0}}}},computed:{...N({cartItems:"cart/cartItems",userAddress:"auth/userAddress",currentUser:"auth/currentUser"}),...z({isLoading:s=>s.auth.isLoading,error:s=>s.auth.error})},methods:{...D({getAddress:"auth/getAddress",checkout:"order/checkout"}),onSubmitForm(s){this.checkout(s).then(l=>l?this.$router.push("payment"):null)}},mounted(){this.getAddress()},created(){this.cartItems.length||this.$router.push({name:"cart"})}},$=s=>(T("data-v-e6dcb954"),s=s(),Y(),s),J={key:0,class:"checkout-content"},K={class:"checkout-content__col"},W=$(()=>e("h3",{class:"checkout-content__title"},"Billing details",-1)),Z={class:"checkout-content__form checkout-form"},Q={class:"checkout-form__row"},R={class:"checkout-form__group"},X={class:"checkout-form__group"},ee={class:"checkout-form__group"},te={class:"checkout-form__group"},se={class:"checkout-form__group"},oe={class:"checkout-form__group"},ce={class:"checkout-form__group"},ae={class:"checkout-form__group"},re={class:"checkout-form__group"},ne={class:"checkout-content__col"},_e=$(()=>e("h3",{class:"checkout-content__title"},"Your order",-1)),ie={class:"checkout-content__list checkout-list"},ue={class:"checkout-product__wrapper"},de={class:"checkout-product__name"},le={"data-name":"Subtotal",class:"checkout-product__subtotal"},he={class:"checkout-content__radio-inputs"},pe={class:"checkout-content__radio check-radio"},me={class:"check-radio__label"},ke={class:"checkout-content__radio"},ve={class:"check-radio__label"},ye={class:"checkout-content__radio"},fe={class:"check-radio__label"},ge={class:"checkout-content__info"},be={class:"checkout-content__terms"},we={class:"checkout-content__checkbox check-radio"},Ae={class:"check-radio__label"},Fe={class:"checkout-content__submit"};function $e(s,l,x,S,h,p){const o=_("Field"),a=_("ErrorMessage"),m=_("router-link"),C=_("hera-button"),I=_("Form"),q=H("mask");return s.userAddress?(u(),d("div",J,[t(I,{onSubmit:p.onSubmitForm,"validation-schema":h.validationSchema,class:"checkout-content__body"},{default:r(()=>{var k,v,y,f,g,b,w;return[e("div",K,[W,e("div",Z,[e("div",Q,[e("div",R,[t(o,{type:"text",name:"first_name",value:(k=s.userAddress)==null?void 0:k.first_name,class:"checkout-form__input input",placeholder:"First name"},null,8,["value"]),t(a,{name:"first_name",class:"error-message"})]),e("div",X,[t(o,{type:"text",name:"last_name",value:(v=s.userAddress)==null?void 0:v.last_name,class:"checkout-form__input input",placeholder:"Last name"},null,8,["value"]),t(a,{name:"last_name",class:"error-message"})])]),e("div",ee,[t(o,{type:"text",name:"city",value:(y=s.userAddress)==null?void 0:y.city,class:"checkout-form__input input",placeholder:"Town/City"},null,8,["value"]),t(a,{name:"city",class:"error-message"})]),e("div",te,[t(o,{type:"text",name:"state",value:(f=s.userAddress)==null?void 0:f.state,class:"checkout-form__input input",placeholder:"State/Province"},null,8,["value"]),t(a,{name:"state",class:"error-message"})]),e("div",se,[t(o,{type:"text",name:"address",value:(g=s.userAddress)==null?void 0:g.address,class:"checkout-form__input input",placeholder:"Address"},null,8,["value"]),t(a,{name:"address",class:"error-message"})]),e("div",oe,[t(o,{type:"text",name:"zip_code",value:(b=s.userAddress)==null?void 0:b.zip_code,class:"checkout-form__input input",placeholder:"Zip/Post code"},null,8,["value"]),t(a,{name:"zip_code",class:"error-message"})]),e("div",ce,[M(t(o,{type:"text",name:"phone_number",value:(w=s.userAddress)==null?void 0:w.phone_number,class:"checkout-form__input input",placeholder:"Phone Number"},null,8,["value"]),[[q,"+1 (###) ###-##-##"]]),t(a,{name:"phone_number",class:"error-message"})]),e("div",ae,[t(o,{type:"email",name:"email",value:s.currentUser.email,class:"checkout-form__input input",placeholder:"Email address"},null,8,["value"]),t(a,{name:"email",class:"error-message"})]),e("div",re,[t(o,{name:"message"},{default:r(({field:c})=>[e("textarea",i(c,{class:"checkout-form__input input",name:"notes",rows:"3",placeholder:"Order notes (optional)"}),null,16)]),_:1}),t(a,{name:"notes",class:"error-message"})])])]),e("div",ne,[_e,e("div",ie,[(u(!0),d(U,null,G(s.cartItems,c=>(u(),d("div",{class:"checkout-list__item checkout-product",key:c.product.slug},[e("div",ue,[e("div",de,A(c.product.title),1),e("div",le," $"+A(c.product.price*c.quantity),1)])]))),128))]),e("div",he,[e("div",pe,[t(o,{name:"payment_type",type:"radio",value:"bitcoin"},{default:r(({field:c})=>[e("label",me,[e("input",i({class:"check-radio__input",type:"radio",name:"payment_type"},c,{checked:!0}),null,16),n(" Bitcoin ")])]),_:1})]),e("div",ke,[t(o,{name:"payment_type",type:"radio",value:"other_cryptocurrencies"},{default:r(({field:c})=>[e("label",ve,[e("input",i({class:"check-radio__input",type:"radio",name:"payment_type"},c,{value:!1}),null,16),n(" Other cryptocurrencies ")])]),_:1})]),e("div",ye,[t(o,{name:"payment_type",type:"radio",value:"payment_method"},{default:r(({field:c})=>[e("label",fe,[e("input",i({type:"radio",class:"check-radio__input",name:"payment_type"},c,{value:!1}),null,16),n(" Payment method ")])]),_:1})])]),e("div",ge,[n(" Your personal data will be used only to process your order, support your experience throughout this website, and for other purposes described in our "),t(m,{class:"text-primary",to:{name:"policy"}},{default:r(()=>[n("privacy policy")]),_:1}),n(". We never share it with third parties. ")]),e("div",be,[e("div",we,[t(o,{name:"terms",type:"checkbox",value:!0},{default:r(({field:c,errors:V})=>[e("label",Ae,[e("input",i({class:["check-radio__input",{error:!!V.length}],type:"checkbox",name:"terms"},c,{value:!0}),null,16),n(" I have read and agree to the website "),t(m,{to:{name:"terms"},class:"text-primary"},{default:r(()=>[n(" terms and conditions")]),_:1})])]),_:1})])]),e("div",Fe,[t(C,{type:"submit",class:"checkout-content__button primary",text:"Pay with bitcoin"})])])]}),_:1},8,["onSubmit","validation-schema"])])):O("",!0)}const xe=F(j,[["render",$e],["__scopeId","data-v-e6dcb954"]]);const Se={name:"CheckoutView",components:{HeraCheckoutForm:xe}},Ce={class:"page__checkout checkout"},Ie={class:"checkout__container"},qe={class:"checkout__wrapper"};function Ve(s,l,x,S,h,p){const o=_("hera-checkout-form");return u(),d("div",Ce,[e("div",Ie,[e("div",qe,[t(o,{class:"checkout__content"})])])])}const Ee=F(Se,[["render",Ve],["__scopeId","data-v-9efc2448"]]);export{Ee as default};
