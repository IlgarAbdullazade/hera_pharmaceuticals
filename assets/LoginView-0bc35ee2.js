import{G as E,k as y,q as R,j as L,_ as V,B as k,C,E as I,H as A,J as P,b as u,o as B,c as j,d as l,e as d,w,a as S,p as F,f as H}from"./index-8d4a8feb.js";function _(){return _=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},_.apply(this,arguments)}var O=function(){var e=!1,t=[],i=function(){if(!e){e=!0;for(var o=0,p=t.length;o<p;o++)t[o]()}},a=function(o){if(!e){t.push(o);return}o()},s={resolved:function(){return e},resolve:i,promise:{then:a}};return s},x=Object.prototype.hasOwnProperty;function q(){var r=O();return{notify:function(){r.resolve()},wait:function(){return r.promise},render:function(t,i,a){this.wait().then(function(){a(window.grecaptcha.render(t,i))})},reset:function(t){typeof t>"u"||(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(t)}))},execute:function(t){typeof t>"u"||(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(t)}))},checkRecaptchaLoad:function(){x.call(window,"grecaptcha")&&x.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!r.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var h=q();typeof window<"u"&&(window.vueRecaptchaApiLoaded=h.notify);var M=E({name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!0},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},emits:["render","verify","expired","error"],setup:function(e,t){var i=t.slots,a=t.emit,s=y(null),c=y(null),o=function(f){a("verify",f)},p=function(){a("expired")},m=function(){a("error")};return R(function(){if(h.checkRecaptchaLoad(),e.loadRecaptchaScript&&!document.getElementById(e.recaptchaScriptId)){var n=document.createElement("script");n.id=e.recaptchaScriptId,n.src="https://"+e.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+e.language,n.async=!0,n.defer=!0,document.head.appendChild(n)}var f=_({},e,{callback:o,"expired-callback":p,"error-callback":m}),g=s.value,b=i.default?g.children[0]:g;h.render(b,f,function(v){c.value=v,a("render",v)})}),{root:s,widgetId:c,reset:function(){h.reset(c.value)},execute:function(){h.execute(c.value)}}},render:function(){var e=this.$slots.default,t;return typeof e=="function"?t=e():t=e,L("div",{ref:"root"},t)}});const T={name:"LoginView",components:{Form:k,Field:C,ErrorMessage:I,VueRecaptcha:M,HeraButton:A},data(){return{validationSchema:{username:"required|min:3|max:50",password:"required|min:8|max:128"},siteKey:"yourSiteAPIKey"}},methods:{...P({login:"auth/login"}),onSubmitLogin(r){this.login(r).then(()=>{this.$router.push({name:"myAccount"})})},handleError(){},handleSuccess(){}}},K=r=>(F("data-v-8ea27403"),r=r(),H(),r),N={class:"login"},U={class:"login__wrapper"},$=K(()=>l("h3",{class:"login__title"},"Sign in to your account",-1)),z={class:"login-form__group"},D={class:"login-form__group"},G={class:"login-form__group"},J={class:"login__additional"};function Q(r,e,t,i,a,s){const c=u("Field"),o=u("ErrorMessage"),p=u("VueRecaptcha"),m=u("hera-button"),n=u("Form"),f=u("router-link");return B(),j("div",N,[l("div",U,[$,d(n,{class:"login__form login-form",onSubmit:s.onSubmitLogin,"validation-schema":a.validationSchema},{default:w(()=>[l("div",z,[d(c,{type:"text",name:"username",class:"login-form__input input",placeholder:"Username or email"}),d(o,{name:"username",class:"error-message"})]),l("div",D,[d(c,{type:"password",name:"password",class:"login-form__input input",placeholder:"Password"}),d(o,{name:"password",class:"error-message"})]),l("div",G,[d(p,{sitekey:a.siteKey,"load-recaptcha-script":!0,onVerify:s.handleSuccess,onError:s.handleError},null,8,["sitekey","onVerify","onError"])]),d(m,{class:"login-form__button primary",type:"submit",text:"Sign In"})]),_:1},8,["onSubmit","validation-schema"]),l("div",J,[S(" Donâ€™t have an account yet? "),d(f,{class:"font-semibold text-primary",to:{name:"signUp"}},{default:w(()=>[S("Sign up")]),_:1})])])])}const X=V(T,[["render",Q],["__scopeId","data-v-8ea27403"]]);export{X as default};
