import{_ as m,I as g,b as s,o as a,c,d as o,F as q,e as r,j as _,p as y,f as v,H as P,h as w,i as k,t as u,w as h,B as $,a as R}from"./index-9cacae3f.js";import{H}from"./QuantityBox-ca06761b.js";import{H as L}from"./Paragraph-e2a85ea9.js";import{H as U}from"./ReportsModal-d202a3f9.js";const V={name:"HeraProductReport",components:{Icon:g},props:{reports:{type:Array,required:!0}},data(){return{baseURL:"https://hera.mobiladvocate.com/"}},methods:{openModal(){this.$vfm.show({component:"HeraCustomModal",bind:{name:"ReportsModal",class:"full-height"},slots:{default:{component:U,bind:{reports:this.reports}}}})}}},T=t=>(y("data-v-dd16b246"),t=t(),v(),t),B={class:"product-report"},M={class:"product-report__wrapper"},S=["src","alt"],N=T(()=>o("span",{class:"product-report__text"},"TEST REPORT",-1)),x={key:1};function A(t,e,d,I,l,n){const i=s("Icon");return a(),c("div",B,[o("div",M,[d.reports.length?(a(),c(q,{key:0},[d.reports.length?(a(),c("button",{key:0,type:"button",onClick:e[0]||(e[0]=(...p)=>n.openModal&&n.openModal(...p)),class:"product-report__image product-report-ibg-cover"},[r(i,{class:"product-report__icon",icon:"material-symbols:search-rounded"}),o("img",{src:l.baseURL+d.reports[0].image,alt:d.reports[0].image},null,8,S)])):_("",!0),N],64)):(a(),c("span",x,"Not Test Reports found"))])])}const Q=m(V,[["render",A],["__scopeId","data-v-dd16b246"]]);const E={name:"ProductView",components:{Icon:g,HeraButton:P,HeraParagraph:L,HeraQuantityBox:H,HeraProductReport:Q},data:()=>({baseURL:"https://hera.mobiladvocate.com/",quantity:null}),computed:{...w({isLoggedIn:"auth/isLoggedIn",isProductInCart:"cart/isProductInCart",product:"shop/product/product"})},methods:{...k({getProduct:"shop/product/getProduct",selectCategory:"categories/selectCategory"}),updateUserCart(){this.$store.dispatch("cart/updateUserCart",{product:this.product,quantity:this.quantity})},addToCart(){this.$store.dispatch("cart/addToCart",{product:this.product,quantity:this.quantity}),this.updateUserCart()},updateQuantity(t){this.quantity=t,this.product.in_stock>=this.quantity&&this.isProductInCart(this.product.slug)&&(this.$store.dispatch("cart/updateCartQuantity",{product:this.product,quantity:this.quantity}),this.updateUserCart())}},mounted(){this.getProduct(this.$route.params.id).then(t=>{this.selectCategory(t.data.category.slug);const e=this.isProductInCart(t.data.slug);this.quantity=e?e.quantity:1})}},D=t=>(y("data-v-23146285"),t=t(),v(),t),F={key:0,class:"product-view"},j={class:"product-view__wrapper"},z={class:"product-view__header"},G={class:"product-view__card product-card"},O={class:"product-card__wrapper"},J={class:"product-card__image product-card-ibg-cover"},K=["src","alt"],W={class:"product-card__info"},X={class:"product-card__name"},Y={key:0,class:"product-card__numbers"},Z={class:"product-card__price"},tt={class:"product-view__content product-content"},ot=D(()=>o("h4",{class:"product-content__title"},"Description",-1));function et(t,e,d,I,l,n){const i=s("hera-quantity-box"),p=s("Icon"),C=s("hera-button"),b=s("hera-product-report"),f=s("hera-paragraph");return t.product?(a(),c("div",F,[o("div",j,[o("div",z,[o("div",G,[o("div",O,[o("div",J,[o("img",{src:t.baseURL+t.product.image,alt:t.product.title},null,8,K)]),o("div",W,[o("h3",X,u(t.product.title),1),t.quantity?(a(),c("div",Y,[o("h5",Z,"$"+u(t.product.price),1),r(i,{class:"product-card__quantity",qyt:t.quantity,maxValue:t.product.in_stock,onUpdate:n.updateQuantity},null,8,["qyt","maxValue","onUpdate"])])):_("",!0),r(C,{onClick:e[0]||(e[0]=st=>t.isLoggedIn?this.isProductInCart(this.product.slug)?null:n.addToCart():null),isLink:!!this.isProductInCart(this.product.slug)||!t.isLoggedIn,link:{name:t.isLoggedIn?"cart":"signIn"},class:$(["product-card__button",this.isProductInCart(this.product.slug)?"primary":"_outline"]),text:this.isProductInCart(this.product.slug)?"In the cart":"Add to cart"},{iconAfter:h(()=>[r(p,{class:"ml-1 text-base",icon:"mdi:cart"})]),_:1},8,["isLink","link","class","text"])])])]),r(b,{class:"product-view__report",reports:t.product.test_report},null,8,["reports"])]),o("div",tt,[ot,r(f,{class:"product-content__text"},{default:h(()=>[R(u(t.product.description),1)]),_:1})])])])):_("",!0)}const nt=m(E,[["render",et],["__scopeId","data-v-23146285"]]);export{nt as default};
